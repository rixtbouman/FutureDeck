<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image Model Comparison</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'SF Mono', 'Monaco', monospace;
      background: #1a1a1a;
      color: #fff;
      padding: 40px;
    }

    h1 {
      font-size: 24px;
      margin-bottom: 8px;
      color: #ffd700;
    }

    h2 {
      font-size: 18px;
      margin: 40px 0 20px;
      color: #ffd700;
      border-bottom: 1px solid #333;
      padding-bottom: 8px;
    }

    .subtitle {
      color: #888;
      font-size: 14px;
      margin-bottom: 24px;
    }

    .prompt {
      background: #2a2a2a;
      padding: 20px;
      margin-bottom: 24px;
      border-left: 4px solid #ffd700;
      font-size: 13px;
      line-height: 1.6;
    }

    .prompt-label {
      color: #888;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 8px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 24px;
    }

    .card {
      background: #2a2a2a;
      border: 2px solid #333;
      overflow: hidden;
    }

    .card-header {
      padding: 12px 16px;
      background: #333;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .model-name {
      font-weight: bold;
      font-size: 13px;
    }

    .model-vendor {
      font-size: 10px;
      color: #888;
      padding: 4px 8px;
      background: #222;
      border-radius: 4px;
    }

    .card-image {
      aspect-ratio: 2/3;
      background: #111;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
    }

    .card-image img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .card-image.loading::after {
      content: 'Generating...';
      color: #666;
      font-size: 14px;
    }

    .card-image:hover::before {
      content: 'Click to enlarge';
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.8);
      padding: 4px 12px;
      font-size: 11px;
      color: #fff;
    }

    .card-footer {
      padding: 12px 16px;
      font-size: 11px;
    }

    .rating {
      display: flex;
      gap: 4px;
    }

    .rating button {
      flex: 1;
      padding: 8px;
      background: #333;
      border: 1px solid #444;
      color: #fff;
      cursor: pointer;
      font-size: 12px;
    }

    .rating button:hover { background: #444; }
    .rating button.selected { background: #ffd700; color: #000; border-color: #ffd700; }

    .criteria {
      display: flex;
      gap: 16px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .criterion {
      padding: 12px 16px;
      background: #2a2a2a;
      border: 1px solid #333;
      text-align: center;
    }

    .criterion-icon { font-size: 20px; margin-bottom: 4px; }
    .criterion-name { font-size: 10px; text-transform: uppercase; letter-spacing: 0.05em; color: #888; }

    /* Lightbox */
    .lightbox {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.95);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .lightbox.active { display: flex; }

    .lightbox img {
      max-width: 90vw;
      max-height: 90vh;
      object-fit: contain;
    }

    .lightbox-label {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #ffd700;
      color: #000;
      padding: 8px 16px;
      font-weight: bold;
    }

    .summary {
      margin-top: 40px;
      padding: 24px;
      background: #2a2a2a;
      border: 2px solid #333;
    }

    .summary h2 { margin: 0 0 16px; border: none; padding: 0; }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 12px;
    }

    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #333;
    }

    th { color: #888; font-weight: normal; text-transform: uppercase; font-size: 10px; }
    td.score { color: #ffd700; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Image Model Comparison</h1>
  <p class="subtitle">Testing text rendering and detail quality for tarot card printing</p>

  <div class="prompt">
    <div class="prompt-label">Test Prompt</div>
    Tarot card titled GROWTH with the word GROWTH in gold letters at the bottom, featuring a mystical tree with roots and branches forming an infinity symbol, ornate art nouveau border with Celtic knotwork, rich jewel tones, professional card game art, high detail
  </div>

  <div class="criteria">
    <div class="criterion"><div class="criterion-icon">Aa</div><div class="criterion-name">Text Legibility</div></div>
    <div class="criterion"><div class="criterion-icon">✧</div><div class="criterion-name">Fine Detail</div></div>
    <div class="criterion"><div class="criterion-icon">◐</div><div class="criterion-name">Color Richness</div></div>
    <div class="criterion"><div class="criterion-icon">▭</div><div class="criterion-name">Aspect Ratio</div></div>
    <div class="criterion"><div class="criterion-icon">☆</div><div class="criterion-name">Print Ready</div></div>
  </div>

  <h2>MuleRouter</h2>
  <div class="grid">
    <div class="card" data-model="nano-banana-pro">
      <div class="card-header">
        <span class="model-name">Nano Banana Pro</span>
        <span class="model-vendor">Google</span>
      </div>
      <div class="card-image" onclick="openLightbox(this)">
        <img src="assets/test-models/nano-banana-pro.png" alt="Nano Banana Pro"
             onerror="this.parentElement.classList.add('loading'); this.style.display='none';">
      </div>
      <div class="card-footer">
        <div class="rating">
          <button onclick="rate(this, 1)">1</button>
          <button onclick="rate(this, 2)">2</button>
          <button onclick="rate(this, 3)">3</button>
          <button onclick="rate(this, 4)">4</button>
          <button onclick="rate(this, 5)">5</button>
        </div>
      </div>
    </div>

    <div class="card" data-model="wan-2.5">
      <div class="card-header">
        <span class="model-name">Wan 2.5</span>
        <span class="model-vendor">Alibaba</span>
      </div>
      <div class="card-image" onclick="openLightbox(this)">
        <img src="assets/test-models/wan-2.5.png" alt="Wan 2.5"
             onerror="this.parentElement.classList.add('loading'); this.style.display='none';">
      </div>
      <div class="card-footer">
        <div class="rating">
          <button onclick="rate(this, 1)">1</button>
          <button onclick="rate(this, 2)">2</button>
          <button onclick="rate(this, 3)">3</button>
          <button onclick="rate(this, 4)">4</button>
          <button onclick="rate(this, 5)">5</button>
        </div>
      </div>
    </div>

    <div class="card" data-model="midjourney">
      <div class="card-header">
        <span class="model-name">Midjourney</span>
        <span class="model-vendor">Midjourney</span>
      </div>
      <div class="card-image" onclick="openLightbox(this)">
        <img src="assets/test-models/midjourney.png" alt="Midjourney"
             onerror="this.parentElement.classList.add('loading'); this.style.display='none';">
      </div>
      <div class="card-footer">
        <div class="rating">
          <button onclick="rate(this, 1)">1</button>
          <button onclick="rate(this, 2)">2</button>
          <button onclick="rate(this, 3)">3</button>
          <button onclick="rate(this, 4)">4</button>
          <button onclick="rate(this, 5)">5</button>
        </div>
      </div>
    </div>
  </div>

  <h2>Replicate</h2>
  <div class="grid">
    <div class="card" data-model="ideogram-v3">
      <div class="card-header">
        <span class="model-name">Ideogram v3</span>
        <span class="model-vendor">Ideogram</span>
      </div>
      <div class="card-image" onclick="openLightbox(this)">
        <img src="assets/test-replicate/ideogram-v3.png" alt="Ideogram v3"
             onerror="this.parentElement.classList.add('loading'); this.style.display='none';">
      </div>
      <div class="card-footer">
        <div class="rating">
          <button onclick="rate(this, 1)">1</button>
          <button onclick="rate(this, 2)">2</button>
          <button onclick="rate(this, 3)">3</button>
          <button onclick="rate(this, 4)">4</button>
          <button onclick="rate(this, 5)">5</button>
        </div>
      </div>
    </div>

    <div class="card" data-model="flux-schnell">
      <div class="card-header">
        <span class="model-name">Flux Schnell</span>
        <span class="model-vendor">Black Forest Labs</span>
      </div>
      <div class="card-image" onclick="openLightbox(this)">
        <img src="assets/test-replicate/flux-schnell.png" alt="Flux Schnell"
             onerror="this.parentElement.classList.add('loading'); this.style.display='none';">
      </div>
      <div class="card-footer">
        <div class="rating">
          <button onclick="rate(this, 1)">1</button>
          <button onclick="rate(this, 2)">2</button>
          <button onclick="rate(this, 3)">3</button>
          <button onclick="rate(this, 4)">4</button>
          <button onclick="rate(this, 5)">5</button>
        </div>
      </div>
    </div>

    <div class="card" data-model="flux-1.1-pro">
      <div class="card-header">
        <span class="model-name">Flux 1.1 Pro</span>
        <span class="model-vendor">Black Forest Labs</span>
      </div>
      <div class="card-image" onclick="openLightbox(this)">
        <img src="assets/test-replicate/flux-1.1-pro.png" alt="Flux 1.1 Pro"
             onerror="this.parentElement.classList.add('loading'); this.style.display='none';">
      </div>
      <div class="card-footer">
        <div class="rating">
          <button onclick="rate(this, 1)">1</button>
          <button onclick="rate(this, 2)">2</button>
          <button onclick="rate(this, 3)">3</button>
          <button onclick="rate(this, 4)">4</button>
          <button onclick="rate(this, 5)">5</button>
        </div>
      </div>
    </div>

    <div class="card" data-model="recraft-v3">
      <div class="card-header">
        <span class="model-name">Recraft v3</span>
        <span class="model-vendor">Recraft AI</span>
      </div>
      <div class="card-image" onclick="openLightbox(this)">
        <img src="assets/test-replicate/recraft-v3.png" alt="Recraft v3"
             onerror="this.parentElement.classList.add('loading'); this.style.display='none';">
      </div>
      <div class="card-footer">
        <div class="rating">
          <button onclick="rate(this, 1)">1</button>
          <button onclick="rate(this, 2)">2</button>
          <button onclick="rate(this, 3)">3</button>
          <button onclick="rate(this, 4)">4</button>
          <button onclick="rate(this, 5)">5</button>
        </div>
      </div>
    </div>

    <div class="card" data-model="stable-diffusion-3.5">
      <div class="card-header">
        <span class="model-name">SD 3.5 Large</span>
        <span class="model-vendor">Stability AI</span>
      </div>
      <div class="card-image" onclick="openLightbox(this)">
        <img src="assets/test-replicate/stable-diffusion-3.5.png" alt="Stable Diffusion 3.5"
             onerror="this.parentElement.classList.add('loading'); this.style.display='none';">
      </div>
      <div class="card-footer">
        <div class="rating">
          <button onclick="rate(this, 1)">1</button>
          <button onclick="rate(this, 2)">2</button>
          <button onclick="rate(this, 3)">3</button>
          <button onclick="rate(this, 4)">4</button>
          <button onclick="rate(this, 5)">5</button>
        </div>
      </div>
    </div>
  </div>

  <div class="summary">
    <h2>Summary</h2>
    <table>
      <thead>
        <tr>
          <th>Model</th>
          <th>Provider</th>
          <th>API</th>
          <th>Your Rating</th>
        </tr>
      </thead>
      <tbody id="summaryTable">
        <tr><td>Nano Banana Pro</td><td>Google</td><td>MuleRouter</td><td class="score" id="score-nano-banana-pro">-</td></tr>
        <tr><td>Wan 2.5</td><td>Alibaba</td><td>MuleRouter</td><td class="score" id="score-wan-2.5">-</td></tr>
        <tr><td>Midjourney</td><td>Midjourney</td><td>MuleRouter</td><td class="score" id="score-midjourney">-</td></tr>
        <tr><td>Ideogram v3</td><td>Ideogram</td><td>Replicate</td><td class="score" id="score-ideogram-v3">-</td></tr>
        <tr><td>Flux Schnell</td><td>Black Forest Labs</td><td>Replicate</td><td class="score" id="score-flux-schnell">-</td></tr>
        <tr><td>Flux 1.1 Pro</td><td>Black Forest Labs</td><td>Replicate</td><td class="score" id="score-flux-1.1-pro">-</td></tr>
        <tr><td>Recraft v3</td><td>Recraft AI</td><td>Replicate</td><td class="score" id="score-recraft-v3">-</td></tr>
        <tr><td>SD 3.5 Large</td><td>Stability AI</td><td>Replicate</td><td class="score" id="score-stable-diffusion-3.5">-</td></tr>
      </tbody>
    </table>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" onclick="closeLightbox()">
    <img id="lightbox-img" src="" alt="">
    <div class="lightbox-label" id="lightbox-label"></div>
  </div>

  <script>
    const ratings = {};

    function rate(btn, score) {
      const card = btn.closest('.card');
      const model = card.dataset.model;
      ratings[model] = score;

      card.querySelectorAll('.rating button').forEach((b, i) => {
        b.classList.toggle('selected', i + 1 <= score);
      });

      const scoreEl = document.getElementById('score-' + model);
      if (scoreEl) scoreEl.textContent = score + '/5';

      localStorage.setItem('model-ratings', JSON.stringify(ratings));
    }

    function openLightbox(el) {
      const img = el.querySelector('img');
      const card = el.closest('.card');
      if (img && img.src) {
        document.getElementById('lightbox-img').src = img.src;
        document.getElementById('lightbox-label').textContent = card.querySelector('.model-name').textContent;
        document.getElementById('lightbox').classList.add('active');
      }
    }

    function closeLightbox() {
      document.getElementById('lightbox').classList.remove('active');
    }

    document.addEventListener('keydown', e => {
      if (e.key === 'Escape') closeLightbox();
    });

    // Load saved ratings
    const saved = localStorage.getItem('model-ratings');
    if (saved) {
      const savedRatings = JSON.parse(saved);
      Object.entries(savedRatings).forEach(([model, score]) => {
        const card = document.querySelector(`[data-model="${model}"]`);
        if (card) {
          const btn = card.querySelectorAll('.rating button')[score - 1];
          if (btn) rate(btn, score);
        }
      });
    }

    // Auto-refresh images
    setInterval(() => {
      document.querySelectorAll('.card-image.loading img').forEach(img => {
        img.src = img.src.split('?')[0] + '?t=' + Date.now();
        img.style.display = '';
      });
    }, 10000);
  </script>
</body>
</html>
